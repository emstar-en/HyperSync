{
  "$id": "https://hypersync.dev/specs/integration_profile.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "description": "Environment-independent description of how HyperSync attaches to an external system, platform, or application boundary. Intended to be one-size-fits-most and free of cloud/vendor specifics.",
  "properties": {
    "constraints": {
      "additionalProperties": true,
      "description": "Environment and policy constraints that must hold at this boundary.",
      "properties": {
        "data_residency": {
          "description": "Free-form description of data residency constraints (e.g. region or jurisdiction codes, without naming specific vendors).",
          "type": "string"
        },
        "max_latency_ms": {
          "description": "Soft upper bound on end-to-end latency for critical operations.",
          "minimum": 0,
          "type": "number"
        },
        "min_availability_slo": {
          "description": "Target availability SLO for the integration surface (0.0\u20131.0).",
          "maximum": 1.0,
          "minimum": 0.0,
          "type": "number"
        },
        "no_internet": {
          "description": "True if the deployment is fully air-gapped / no internet.",
          "type": "boolean"
        },
        "no_pii": {
          "description": "True if personally identifiable information is prohibited.",
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "determinism_tier": {
      "description": "Expected determinism tier of the boundary as seen by HyperSync.",
      "enum": [
        "D0_bit_exact",
        "D1_bounded_non_deterministic",
        "D2_open_world"
      ],
      "type": "string"
    },
    "id": {
      "description": "Stable identifier for this integration profile.",
      "type": "string"
    },
    "interfaces": {
      "description": "Concrete integration surfaces (e.g. RPC endpoints, event streams, file drops) that HyperSync binds to at this boundary.",
      "items": {
        "additionalProperties": false,
        "properties": {
          "contract": {
            "description": "Abstract contract type (e.g. rpc, event_stream, batch_file).",
            "enum": [
              "rpc",
              "event_stream",
              "batch_file",
              "metrics",
              "logs",
              "traces",
              "control_plane",
              "data_plane",
              "other"
            ],
            "type": "string"
          },
          "direction": {
            "description": "Traffic direction relative to HyperSync.",
            "enum": [
              "ingress",
              "egress",
              "bidirectional"
            ],
            "type": "string"
          },
          "id": {
            "description": "Identifier for this specific integration surface.",
            "type": "string"
          },
          "notes": {
            "description": "Free-form notes for human operators.",
            "type": "string"
          },
          "observability": {
            "additionalProperties": true,
            "description": "Observability guarantees at this surface.",
            "properties": {
              "logs": {
                "type": "boolean"
              },
              "metrics": {
                "type": "boolean"
              },
              "traces": {
                "type": "boolean"
              }
            },
            "type": "object"
          },
          "schema_ref": {
            "description": "Optional reference to a JSON Schema, OpenAPI document, or other formal contract inside the spec pack.",
            "type": "string"
          },
          "security": {
            "additionalProperties": true,
            "description": "Security posture for this surface.",
            "properties": {
              "authn": {
                "description": "Abstract authentication mechanism description (e.g. mTLS, token-based), without naming vendors.",
                "type": "string"
              },
              "authz": {
                "description": "Authorization model summary (e.g. role-based, attribute-based).",
                "type": "string"
              },
              "confidentiality": {
                "description": "Confidentiality requirements (e.g. encryption-in-transit).",
                "type": "string"
              },
              "integrity": {
                "description": "Integrity requirements (e.g. checksums, signatures).",
                "type": "string"
              }
            },
            "type": "object"
          },
          "summary": {
            "description": "Short description of the surface.",
            "type": "string"
          }
        },
        "required": [
          "id",
          "direction",
          "contract"
        ],
        "type": "object"
      },
      "type": "array"
    },
    "kind": {
      "description": "High-level kind of integration surface.",
      "enum": [
        "platform",
        "messaging",
        "observability",
        "storage",
        "model_provider",
        "application",
        "other"
      ],
      "type": "string"
    },
    "metadata": {
      "additionalProperties": true,
      "description": "Free-form metadata for tooling and humans.",
      "type": "object"
    },
    "summary": {
      "description": "Short human-readable summary of the integration.",
      "type": "string"
    },
    "tenancy": {
      "default": "single_tenant",
      "description": "Tenancy model at this integration boundary.",
      "enum": [
        "single_tenant",
        "multi_tenant",
        "mixed"
      ],
      "type": "string"
    },
    "version": {
      "description": "Version string for the integration profile description itself.",
      "type": "string"
    }
  },
  "required": [
    "id",
    "summary",
    "version",
    "kind",
    "determinism_tier",
    "interfaces"
  ],
  "title": "HyperSync Integration Profile",
  "type": "object"
}