{
  "hypersync_geometry_layer": {
    "determinism_validators": {
      "validator://kmeans/determinism.v1": {
        "description": "Validates deterministic k-means clustering operations",
        "file": "HyperSync_ALPHA/10_tools/validators/kmeans_determinism.v1.json"
      },
      "validator://ml/ebm_determinism.v1": {
        "description": "Validates deterministic energy-based model operations",
        "file": "HyperSync_ALPHA/10_tools/validators/ml_ebm_determinism.v1.json"
      },
      "validator://spectral/eig_ordering_determinism.v1": {
        "description": "Validates deterministic eigenvalue ordering in spectral methods",
        "file": "HyperSync_ALPHA/10_tools/validators/spectral_eig_ordering_determinism.v1.json"
      }
    },
    "endpoints": [
      {
        "description": "Compute Riemannian barycenter consensus",
        "determinism_tier_options": [
          "D0",
          "D1",
          "D2"
        ],
        "determinism_validator_ids": [
          "validator://kmeans/determinism.v1"
        ],
        "endpoint_id": "geometry.run_consensus.riemannian_barycenter_v2",
        "input_schema": {
          "curvature": "float",
          "points": "array<geometry_point>",
          "weights": "array<float>"
        },
        "output_schema": {
          "barycenter": "geometry_point",
          "receipt_id": "string"
        },
        "policy_key": "riemannian_barycenter_consensus_v2"
      },
      {
        "description": "Compute consensus in constant curvature space",
        "determinism_tier_options": [
          "D0",
          "D1",
          "D2"
        ],
        "determinism_validator_ids": [
          "validator://spectral/eig_ordering_determinism.v1"
        ],
        "endpoint_id": "geometry.run_consensus.constant_curvature_v2",
        "input_schema": {
          "consensus_method": "string",
          "curvature": "float",
          "points": "array<geometry_point>"
        },
        "output_schema": {
          "consensus_point": "geometry_point",
          "receipt_id": "string"
        },
        "policy_key": "constant_curvature_consensus_v2"
      },
      {
        "description": "Compute local curvature at a point",
        "determinism_tier_options": [
          "D0",
          "D1"
        ],
        "determinism_validator_ids": [
          "validator://ml/ebm_determinism.v1"
        ],
        "endpoint_id": "geometry.compute_curvature",
        "input_schema": {
          "neighborhood_radius": "float",
          "point": "geometry_point"
        },
        "output_schema": {
          "curvature": "float",
          "receipt_id": "string"
        }
      },
      {
        "description": "Compute geodesic path between points",
        "determinism_tier_options": [
          "D0",
          "D1"
        ],
        "endpoint_id": "geometry.compute_geodesic",
        "input_schema": {
          "curvature": "float",
          "end_point": "geometry_point",
          "start_point": "geometry_point"
        },
        "output_schema": {
          "length": "float",
          "path": "array<geometry_point>",
          "receipt_id": "string"
        }
      }
    ],
    "metadata": {
      "created_by": "HyperSync Geometry/PCT/AGUA Integration Plan",
      "description": "API surface for geometry operations with determinism guarantees",
      "integration_date": "2025-12-06",
      "title": "HyperSync Geometry Layer v1"
    },
    "mathematical_foundations": {
      "geometry_space": "Riemannian Manifold (D^n, S^n, E^n)",
      "consensus_metric": "Barycenter minimization: argmin_x sum(w_i * d(x, p_i)^2)",
      "determinism_model": "Bitwise reproducibility via fixed-point arithmetic or IEEE 754 strict mode"
    },
    "fault_detection": {
      "input_validation": {
        "logic": "Check if points lie within manifold constraints (e.g., ||x|| < 1 for Poincare)",
        "action": "Reject request with 400 Bad Request"
      },
      "determinism_check": {
        "logic": "Verify output hash against expected receipt for D0 operations",
        "action": "Flag non-deterministic behavior and fallback to safe mode"
      }
    },
    "detailed_mechanisms": {
      "request_dispatch": "Route requests to appropriate geometry kernel based on curvature parameter",
      "receipt_generation": "Cryptographic signing of inputs and outputs for audit trail"
    }
  }
}