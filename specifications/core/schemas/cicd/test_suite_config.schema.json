{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "GoldSampleTest": {
      "properties": {
        "comparison_method": {
          "enum": [
            "exact",
            "fuzzy",
            "metric_based",
            "hyperbolic_distance"
          ],
          "type": "string"
        },
        "fail_on_mismatch": {
          "type": "boolean"
        },
        "sample_id": {
          "type": "string"
        },
        "threshold": {
          "type": "number"
        }
      },
      "type": "object"
    },
    "NLDSafetyCheck": {
      "properties": {
        "check_type": {
          "enum": [
            "nld_count",
            "cross_boundary_stability",
            "divergence_detection"
          ],
          "type": "string"
        },
        "max_nld": {
          "type": "integer"
        },
        "stability_threshold": {
          "type": "number"
        }
      },
      "type": "object"
    },
    "PerformanceBenchmark": {
      "properties": {
        "baseline": {
          "type": "number"
        },
        "metric": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "regression_threshold": {
          "type": "number"
        },
        "tolerance": {
          "type": "number"
        }
      },
      "type": "object"
    },
    "TestConfig": {
      "properties": {
        "required": {
          "type": "boolean"
        },
        "retry_count": {
          "type": "integer"
        },
        "test_id": {
          "type": "string"
        },
        "timeout": {
          "type": "integer"
        },
        "type": {
          "type": "string"
        }
      },
      "type": "object"
    }
  },
  "description": "Configuration for integrating conformance tests with CI/CD",
  "properties": {
    "gold_sample_tests": {
      "items": {
        "$ref": "#/definitions/GoldSampleTest"
      },
      "type": "array"
    },
    "name": {
      "type": "string"
    },
    "nld_safety_checks": {
      "items": {
        "$ref": "#/definitions/NLDSafetyCheck"
      },
      "type": "array"
    },
    "performance_benchmarks": {
      "items": {
        "$ref": "#/definitions/PerformanceBenchmark"
      },
      "type": "array"
    },
    "suite_id": {
      "type": "string"
    },
    "tests": {
      "items": {
        "$ref": "#/definitions/TestConfig"
      },
      "type": "array"
    }
  },
  "required": [
    "suite_id",
    "tests"
  ],
  "title": "CI/CD Test Suite Configuration",
  "type": "object"
}