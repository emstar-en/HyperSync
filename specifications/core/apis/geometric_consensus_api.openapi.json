{
  "info": {
    "description": "User-facing API for geometric consensus and synchronization",
    "title": "HyperSync Geometric Consensus API"
  },
  "openapi": "3.0.0",
  "paths": {
    "/consensus/barycenter": {
      "post": {
        "description": "Compute geometric mean of points on manifold",
        "operationId": "computeBarycenter",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "algorithm": {
                    "type": "string"
                  },
                  "kappa": {
                    "type": "number"
                  },
                  "points": {
                    "type": "array"
                  },
                  "weights": {
                    "type": "array"
                  }
                },
                "required": [
                  "points",
                  "kappa"
                ],
                "type": "object"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "barycenter": {
                      "type": "object"
                    },
                    "converged": {
                      "type": "boolean"
                    },
                    "iterations": {
                      "type": "integer"
                    },
                    "total_variance": {
                      "type": "number"
                    }
                  },
                  "type": "object"
                }
              }
            },
            "description": "Barycenter computed"
          }
        },
        "summary": "Compute Riemannian barycenter",
        "tags": [
          "Consensus Operations"
        ]
      }
    },
    "/consensus/byzantine": {
      "post": {
        "description": "Achieve consensus with up to f < n/3 Byzantine nodes",
        "operationId": "byzantineConsensus",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "fault_tolerance": {
                    "type": "object"
                  },
                  "kappa": {
                    "type": "number"
                  },
                  "proposals": {
                    "type": "array"
                  }
                },
                "required": [
                  "proposals",
                  "kappa",
                  "fault_tolerance"
                ],
                "type": "object"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "byzantine_nodes": {
                      "type": "array"
                    },
                    "confidence": {
                      "type": "number"
                    },
                    "consensus_value": {
                      "type": "object"
                    },
                    "outliers_detected": {
                      "type": "array"
                    }
                  },
                  "type": "object"
                }
              }
            },
            "description": "Consensus achieved"
          }
        },
        "summary": "Byzantine fault-tolerant consensus",
        "tags": [
          "Consensus Operations"
        ]
      }
    },
    "/consensus/synchronize": {
      "post": {
        "description": "Synchronize distributed states across geometric manifolds",
        "operationId": "synchronizeStates",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "node_states": {
                    "type": "array"
                  },
                  "sync_method": {
                    "type": "string"
                  },
                  "target_kappa": {
                    "type": "number"
                  }
                },
                "required": [
                  "node_states",
                  "target_kappa"
                ],
                "type": "object"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Synchronization complete"
          }
        },
        "summary": "Synchronize node states",
        "tags": [
          "Synchronization"
        ]
      }
    },
    "/consensus/validate": {
      "post": {
        "description": "Verify consensus properties and Byzantine tolerance",
        "operationId": "validateConsensus",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "consensus_result": {
                    "type": "object"
                  },
                  "kappa": {
                    "type": "number"
                  },
                  "original_proposals": {
                    "type": "array"
                  }
                },
                "required": [
                  "consensus_result",
                  "original_proposals",
                  "kappa"
                ],
                "type": "object"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Validation result"
          }
        },
        "summary": "Validate consensus result",
        "tags": [
          "Validation"
        ]
      }
    }
  },
  "servers": [
    {
      "url": "https://api.hypersync.local/v1"
    },
    {
      "url": "https://api.hypersync.cloud/v1"
    }
  ]
}