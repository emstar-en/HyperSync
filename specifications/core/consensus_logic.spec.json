{
  "consensus_logic": {
    "meta": {
      "description": "Algorithmic logic and state machine definitions for consensus mechanisms",
      "status": "FINAL"
    },
    "mechanisms": {
      "gossip": {
        "blueprint": {
          "mathematical_foundation": "Epidemic Theory / Markov Chains (Mixing Time)",
          "mechanism": "Push-Pull Anti-Entropy Protocol. Random peer selection.",
          "fault_detection": "Partition detection via spectral gap estimation (slow mixing)",
          "detailed_mechanisms": {
            "push_logic": "Select random peer; Send (NodeID, Version); Peer requests missing updates",
            "pull_logic": "Select random peer; Request (NodeID, Version); Peer sends missing updates",
            "state_management": "View: Map<NodeID, Version>, Buffer: List<Message>"
          }
        }
      },
      "raft": {
        "blueprint": {
          "mathematical_foundation": "Consensus Safety Proofs (Log Matching, Leader Completeness)",
          "mechanism": "Strong Leader Election + Log Replication. Term-based logical clock.",
          "fault_detection": "Split Vote (Election timeout loop) or Log Inconsistency",
          "detailed_mechanisms": {
            "election_logic": "If election timeout: increment term, vote for self, send RequestVote RPC",
            "replication_logic": "If Leader: send AppendEntries RPC with new log entries",
            "state_machine": "Role: Leader|Follower|Candidate, Log: List<Entry>"
          }
        }
      },
      "pbft": {
        "blueprint": {
          "mathematical_foundation": "Byzantine Fault Tolerance (3f+1 nodes)",
          "mechanism": "Three-phase commit: Pre-Prepare -> Prepare -> Commit.",
          "fault_detection": "View Change trigger (Timer expiry without commit)",
          "detailed_mechanisms": {
            "pre_prepare": "Primary assigns sequence number, broadcasts Pre-Prepare",
            "prepare": "Replica validates, broadcasts Prepare (2f+1 required)",
            "commit": "Replica collects 2f+1 Prepare, broadcasts Commit (2f+1 required)",
            "state_tracking": "View, SequenceNumber, Phase"
          }
        }
      }
    }
  }
}