{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://hypersync.dev/schemas/ux/presentation/activity_context.schema.json",
  "title": "HyperSync UX Activity Context",
  "description": "Canonical, lightweight snapshot of what the operator and system are doing, used to drive UX presentation decisions.",
  "type": "object",
  "properties": {
    "context_id": {
      "type": "string",
      "description": "Deterministic identifier for this context snapshot."
    },
    "session_id": {
      "type": "string",
      "description": "Reference to the TUI/session_state.v1.json session_id."
    },
    "user_id": {
      "type": "string",
      "description": "Opaque user identifier within the current deployment."
    },
    "archetype_id": {
      "type": "string",
      "description": "Link into hypersync_ux_archetypes_and_mappings.json."
    },
    "workload_id": {
      "type": "string",
      "description": "Identifier for the primary workload in focus (job/run id, etc.)."
    },
    "workload_kind": {
      "type": "string",
      "description": "High-level workload category used for UX routing.",
      "enum": [
        "simulation",
        "batch_job",
        "training_run",
        "realtime_stream",
        "interactive_experiment",
        "other"
      ]
    },
    "determinism_tier": {
      "type": "string",
      "description": "Reference into determinism_tiers.json (e.g. D0_BitExact, D1_Statistical, etc.)."
    },
    "topology_view": {
      "type": "string",
      "description": "Human-readable label for the topology slice currently in view (e.g. 'regional_fanout', 'single_hypercube')."
    },
    "focus_metric": {
      "type": "string",
      "description": "Primary scalar or KPI the user is currently tracking."
    },
    "severity_level": {
      "type": "string",
      "description": "Rollup severity used for alerting and UX style changes.",
      "enum": [
        "info",
        "notice",
        "warning",
        "error",
        "critical"
      ]
    },
    "timestamp_utc": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp of when this context snapshot was produced (UTC)."
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Free-form but controlled vocabulary tags that further describe the activity context."
    },
    "telemetry_summary_ref": {
      "type": "string",
      "description": "Optional pointer into a telemetry snapshot / receipt used to render this context."
    },
    "notes": {
      "type": "string",
      "description": "Optional human-authored notes attached to this context."
    }
  },
  "required": [
    "context_id",
    "session_id",
    "timestamp_utc"
  ],
  "additionalProperties": false
}