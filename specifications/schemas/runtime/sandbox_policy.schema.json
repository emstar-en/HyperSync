{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Sandbox Policy Configuration",
  "description": "Configuration for the runtime isolation of Yellow Lane capsules.",
  "type": "object",
  "properties": {
    "policy_name": {
      "type": "string",
      "default": "default_yellow_lane"
    },
    "resource_limits": {
      "type": "object",
      "properties": {
        "max_memory_mb": {
          "type": "integer",
          "default": 128
        },
        "max_cpu_percent": {
          "type": "integer",
          "default": 10
        },
        "max_execution_time_ms": {
          "type": "integer",
          "default": 5000
        },
        "max_threads": {
          "type": "integer",
          "default": 1
        }
      }
    },
    "filesystem": {
      "type": "object",
      "properties": {
        "allow_temp_write": {
          "type": "boolean",
          "default": true
        },
        "read_only_paths": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": ["/lib", "/usr/lib"]
        }
      }
    },
    "network": {
      "type": "object",
      "properties": {
        "allow_outbound": {
          "type": "boolean",
          "default": false
        },
        "whitelist_domains": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": []
        }
      }
    },
    "syscall_whitelist": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of allowed system calls (if using seccomp)."
    }
  },
  "required": ["resource_limits"]
}
