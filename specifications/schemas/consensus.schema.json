{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "HyperSync Consensus Configuration",
  "description": "Configuration for the Tiered Geometric Consensus mechanism.",
  "type": "object",
  "properties": {
    "node_id": {
      "type": "string",
      "description": "Unique identifier for the agent/node."
    },
    "tier": {
      "type": "integer",
      "enum": [
        1,
        2,
        3
      ],
      "description": "Consensus tier: 1 (Local), 2 (Regional), 3 (Global)."
    },
    "geometry_model": {
      "type": "string",
      "enum": [
        "poincare_disk",
        "lorentz_model"
      ],
      "default": "poincare_disk"
    },
    "sector_config": {
      "type": "object",
      "properties": {
        "sector_id": {
          "type": "string"
        },
        "voronoi_center": {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 2,
          "maxItems": 2
        }
      },
      "required": [
        "sector_id"
      ]
    },
    "quorum_config": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "count_based",
            "spatial_coverage"
          ],
          "default": "spatial_coverage"
        },
        "coverage_threshold": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "default": 0.66,
          "description": "Required area coverage for spatial quorum."
        },
        "min_nodes": {
          "type": "integer",
          "default": 3
        }
      }
    },
    "drift_parameters": {
      "type": "object",
      "properties": {
        "max_drift_tolerance": {
          "type": "number",
          "default": 0.1
        },
        "decay_rate": {
          "type": "number",
          "default": 0.05
        }
      }
    },
    "trust_requirements": {
      "type": "object",
      "description": "Security requirements for participating in this consensus tier.",
      "properties": {
        "require_receipt": {
          "type": "boolean",
          "default": true,
          "description": "If true, only Green Lane (Verified) nodes can vote."
        },
        "min_determinism_tier": {
          "type": "string",
          "enum": [
            "D0",
            "D1",
            "D2"
          ],
          "default": "D0"
        },
        "allow_yellow_lane_observers": {
          "type": "boolean",
          "default": true,
          "description": "If true, Unverified nodes can observe but not vote."
        }
      }
    }
  },
  "required": [
    "node_id",
    "tier",
    "quorum_config"
  ]
}