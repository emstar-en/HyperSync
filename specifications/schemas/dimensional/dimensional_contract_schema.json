{
  "$id": "https://hypersync.ai/schemas/dimensional/dimensional_contract_schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "Defines cross-domain dimensional sharing agreements",
  "properties": {
    "contract_id": {
      "description": "Unique contract identifier",
      "type": "string"
    },
    "dimensional_terms": {
      "properties": {
        "bandwidth_limit_mbps": {
          "minimum": 1,
          "type": "integer"
        },
        "latency_budget_ms": {
          "minimum": 1,
          "type": "integer"
        },
        "max_hops": {
          "description": "Maximum routing hops allowed",
          "maximum": 10,
          "minimum": 1,
          "type": "integer"
        },
        "shared_dimensions": {
          "description": "Dimensions allowed for cross-domain sharing",
          "items": {
            "minimum": 0,
            "type": "integer"
          },
          "type": "array"
        },
        "ttl_seconds": {
          "description": "Time-to-live for state propagation",
          "minimum": 60,
          "type": "integer"
        }
      },
      "required": [
        "shared_dimensions",
        "max_hops",
        "ttl_seconds"
      ],
      "type": "object"
    },
    "domains": {
      "properties": {
        "source": {
          "properties": {
            "domain_id": {
              "type": "string"
            },
            "node_ids": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "trust_level": {
              "enum": [
                "trusted",
                "verified",
                "untrusted"
              ],
              "type": "string"
            }
          },
          "required": [
            "domain_id",
            "node_ids"
          ],
          "type": "object"
        },
        "target": {
          "properties": {
            "domain_id": {
              "type": "string"
            },
            "node_ids": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "trust_level": {
              "enum": [
                "trusted",
                "verified",
                "untrusted"
              ],
              "type": "string"
            }
          },
          "required": [
            "domain_id",
            "node_ids"
          ],
          "type": "object"
        }
      },
      "required": [
        "source",
        "target"
      ],
      "type": "object"
    },
    "metadata": {
      "properties": {
        "created_at": {
          "format": "date-time",
          "type": "string"
        },
        "created_by": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "security": {
      "properties": {
        "audit_level": {
          "enum": [
            "none",
            "basic",
            "detailed",
            "full"
          ],
          "type": "string"
        },
        "authentication_method": {
          "enum": [
            "mutual_tls",
            "jwt",
            "api_key"
          ],
          "type": "string"
        },
        "encryption_required": {
          "default": true,
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "validity": {
      "properties": {
        "end_time": {
          "format": "date-time",
          "type": "string"
        },
        "renewable": {
          "default": false,
          "type": "boolean"
        },
        "start_time": {
          "format": "date-time",
          "type": "string"
        }
      },
      "required": [
        "start_time",
        "end_time"
      ],
      "type": "object"
    }
  },
  "required": [
    "contract_id",
    "domains",
    "dimensional_terms",
    "validity"
  ],
  "title": "Dimensional Contract Schema",
  "type": "object"
}