{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "BFT Consensus Configuration",
  "description": "Configuration schema for Byzantine Fault Tolerant consensus mechanisms within the HyperSync geometry.",
  "type": "object",
  "properties": {
    "total_nodes": {
      "type": "integer",
      "minimum": 1,
      "description": "Total number of nodes in the consensus group."
    },
    "fault_tolerance": {
      "type": "integer",
      "minimum": 0,
      "description": "Maximum number of faulty nodes (f) the system can tolerate."
    },
    "quorum_size": {
      "type": "integer",
      "minimum": 1,
      "description": "Minimum number of votes required to reach consensus (usually 2f + 1)."
    },
    "reputation_threshold": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 1.0,
      "description": "Minimum reputation score required for a node to participate in this BFT round."
    },
    "consensus_tier": {
      "type": "string",
      "enum": [
        "TIER_1_FAST",
        "TIER_2_BALANCED",
        "TIER_3_ROBUST"
      ],
      "description": "The consensus tier this configuration applies to."
    },
    "timeout_ms": {
      "type": "integer",
      "minimum": 100,
      "default": 2000,
      "description": "Timeout for consensus rounds in milliseconds."
    }
  },
  "required": [
    "total_nodes",
    "fault_tolerance",
    "quorum_size",
    "consensus_tier"
  ],
  "if": {
    "properties": {
      "consensus_tier": {
        "const": "TIER_3_ROBUST"
      }
    }
  },
  "then": {
    "properties": {
      "fault_tolerance": {
        "minimum": 1
      }
    }
  }
}