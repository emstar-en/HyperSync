# VNES Capsule Specification (Enhanced)

## 1. Capsule Anatomy and Philosophy

A **Vector Capsule** is the atomic unit of extensibility in HyperSync. Each capsule is:

- **Self-describing** – via manifest, specs, schemas, and vectors.
- **Determinism-labeled** – via explicit determinism tiers and governance metadata.
- **Receipt-backed** – via cryptographic build receipts.
- **AI-discoverable** – via semantic and capability embeddings.

### Physical Layout

Physically, a capsule is a directory with a standard flat layout for its specification:

```text
my_capsule/
├── manifest.json    # Identity, version, capabilities, governance
├── logic.md         # Natural language logic, pseudo-code, and algorithms
├── schema.json      # Input/output schemas and data types
├── policy.yaml      # Governance, operational constraints, and determinism tiers
└── README.md        # (Optional) Human-readable overview
```

*Note: Implementation artifacts (source code, binaries) are generated by STUNIR into a separate `impl/` directory or the global `05_implementation` tree based on these specs.*

## 2. The Core Trinity

The system is bootstrapped by three foundational capsules:

1.  **Environment (`hypersync.core.environment`)**: The container for simulation state.
2.  **Geometry (`hypersync.core.geometry`)**: The physics engine (Poincaré disk).
3.  **Consensus (`hypersync.core.consensus`)**: The truth engine (conflict resolution).

## 3. Manifest Schema

The `manifest.json` is the entry point.

```json
{
  "id": "hypersync.my.capsule",
  "version": "1.0.0",
  "type": "logic",
  "determinism": "D1",
  "tags": ["utility", "core"],
  "owner": "system"
}
```
